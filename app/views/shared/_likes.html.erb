<%= turbo_frame_tag record, :likes do %>
  <% if user_signed_in? %>
    <%= button_to like_button_text(record), [record, :like], method: :patch %>
  <% else %>
    <%= link_to "Like", new_user_session_path, data: { turbo_frame: :_top } %>
  <% end %>
  <%= record.likes_count %>

  <% record.likes.includes(:user).each do |like| %>
    <%= image_tag avatar_path(like.user, size: 20) %>
  <% end %>
<% end %>